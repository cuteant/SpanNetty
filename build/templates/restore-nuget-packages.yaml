steps:
  - task: NuGetToolInstaller@1
    displayName: 'install nuget'
    inputs:
      versionSpec: '5.x'
  - task: NuGetAuthenticate@1
    displayName: 'nuget authenticate'
    inputs:
      nuGetServiceConnections: 'ApimAzureGenevaMonitoringReadPackages, ApimAzureSecurityMonitoringReadPackages'
  - task: NuGetCommand@2
    displayName: 'Restore NuGet Pacakges'
    inputs:
      command: 'restore'
      restoreSolution: DotNetty.sln
      feedsToUse: config
      nugetConfigPath: NuGet.Config
      externalFeedCredentials: 'ApimAzureGenevaMonitoringReadPackages, ApimAzureSecurityMonitoringReadPackages'